<template>
  <div class="home">
    <a-space
        class="center"
        direction="vertical"
    >
      <div class="content">
        <p class="shields">
          <img
              alt="GitHub package.json version"
              src="https://img.shields.io/github/package-json/v/LanyuanXiaoyao-Studio/SearchX?label=%E4%BB%A3%E7%A0%81%E7%89%88%E6%9C%AC"
          >
          <img
              alt="GitHub release (latest by date)"
              src="https://img.shields.io/github/languages/code-size/LanyuanXiaoyao-Studio/SearchX?label=%E4%BB%A3%E7%A0%81%E4%BD%93%E7%A7%AF"
          >
          <img
              alt="GitHub code size in bytes"
              src="https://img.shields.io/github/v/release/LanyuanXiaoyao-Studio/SearchX?label=%E5%8F%91%E5%B8%83%E7%89%88%E6%9C%AC"
          >
          <img
              alt="uTools version"
              src="https://img.shields.io/badge/uTools%20%E7%89%88%E6%9C%AC-%3E%3D1.1.3-green"
          >
        </p>
        <p class="shields">
          <img
              alt="GitHub all releases"
              src="https://img.shields.io/github/downloads/LanyuanXiaoyao-Studio/SearchX/total?label=%E4%B8%8B%E8%BD%BD%E6%95%B0"
          >
          <img
              alt="GitHub release (latest by SemVer)"
              src="https://img.shields.io/github/downloads/LanyuanXiaoyao-Studio/SearchX/latest/total?label=%E4%B8%8B%E8%BD%BD%E6%95%B0%40latest"
          >
        </p>
        <h2>ç®€ä»‹</h2>
        <p>åŸºäºè§„åˆ™çš„è·¨å¹³å°ä¸€ç«™å¼èšåˆæœç´¢å·¥å…·ã€‚</p>
        <p>é€šè¿‡ç®€å•çš„ JSON è§„åˆ™å®šä¹‰å¦‚ä½•è·å–ä¸€ä¸ªç½‘ç«™çš„å…³é”®å†…å®¹ï¼Œå¹¶èšåˆåˆ°ä¸€èµ·ï¼Œæ–¹ä¾¿æŸ¥è¯¢å’Œé˜…è¯»ï¼Œè¿™å°±æ˜¯è¿™ä¸ªå·¥å…·çš„æœ¬æ„ï¼ŒèŒ«èŒ«ç½‘æµ·ï¼Œä¸åŒçš„ UI å’Œæ“ä½œæ–¹å¼æŒ¡ä½äº†æˆ‘ä»¬ç•…æ¸¸çš„é“è·¯ï¼Œæ˜¯æ—¶å€™è¿”ç’å½’çœŸäº†ã€‚</p>
        <h2>ä¸‹è½½</h2>
        <p>
          <a-button
              icon="github"
              size="small"
              type="primary"
              @click="openUrl('https://github.com/LanyuanXiaoyao-Studio/SearchX/releases/latest')"
          >
            Github Release
          </a-button>
        </p>
        <h4>æ”¯æŒå¹³å°</h4>
        <p>
          <a-space size="middle">
            <a-tooltip title="Windows">
              <windows-icon
                  class="platform-icon"
                  style="font-size: 1.4rem"
              />
            </a-tooltip>
            <a-tooltip title="macOS">
              <mac-o-s-icon
                  class="platform-icon"
                  style="font-size: 1.5rem"
              />
            </a-tooltip>
            <a-tooltip title="Linux">
              <linux-icon
                  class="platform-icon"
                  style="font-size: 1.6rem"
              />
            </a-tooltip>
            <a-tooltip title="Docker & Web">
              <docker-icon
                  class="platform-icon"
                  style="font-size: 1.7rem"
              />
            </a-tooltip>
            <a-tooltip title="uTools">
              <u-tools-icon
                  class="platform-icon"
                  style="font-size: 1.6rem"
              />
            </a-tooltip>
          </a-space>
        </p>
        <p style="font-size: 0.8rem">
          <i>
            <b>docker ç«¯</b>
            åœ¨ Docker Hub æ‹‰å–ï¼Œä¸ç›´æ¥æä¾›é•œåƒæ–‡ä»¶ä¸‹è½½
            <a-button
                icon="search"
                size="small"
                style="margin-left: 5px"
                type="primary"
                @click="openUrl('https://hub.docker.com/r/lanyuanxiaoyao/searchx')"
            >
              Docker Hub
            </a-button>
          </i>
          <br>
          <i>
            <b>uTools ç«¯</b>
            åœ¨ uTools æ’ä»¶ä¸­å¿ƒä¸‹è½½ï¼Œä¸ç›´æ¥æä¾›å®‰è£…æ–‡ä»¶ä¸‹è½½
          </i>
        </p>
        <p>
          <span style="margin-right: 5px">æ›´å¤šå…³äºå®‰è£…æ–‡æ¡£è§</span>
          <a-button
              icon="github"
              size="small"
              type="primary"
              @click="openUrl('https://github.com/LanyuanXiaoyao-Studio/SearchX/wiki/%E5%AE%89%E8%A3%85%E8%AF%B4%E6%98%8E')"
          >
            Github Wiki
          </a-button>
        </p>
        <h2>å¿«é€Ÿä¸Šæ‰‹</h2>
        <h3>è®¢é˜…ç«™ç‚¹</h3>
        <p>
          åº”ç”¨é€šè¿‡è®¢é˜…è§„åˆ™æ–‡ä»¶è·å–ç«™ç‚¹è§„åˆ™, ç«™ç‚¹æ”¯æŒä»
          <b>ç½‘ç»œ</b>
          å’Œ
          <b>æœ¬åœ°æ–‡ä»¶</b>
          (docker ç«¯ä¸æ”¯æŒ)è®¢é˜…è§„åˆ™
          <br>
          åœ¨ã€Œè®¾ç½®ã€â†’ã€Œè§„åˆ™è®¢é˜…ã€â†’ã€Œæ–°å¢è®¢é˜…ã€æ·»åŠ è®¢é˜…æ¥æº, è®°å¾—åœ¨æ·»åŠ å®Œåã€Œå…¨éƒ¨æ›´æ–°ã€ä¸€ä¸‹
          <br>
          è¿™é‡Œæœ‰ä¸€ä¸ªç¤ºä¾‹è®¢é˜…æº
          <code>https://gitee.com/lanyuanxiaoyao/utools-data/raw/master/utools-torrent/sites/ALL.json</code>
        </p>
        <p>èµ¶ç´§å»å°è¯•ä¸€ä¸‹å§ğŸ˜ƒ</p>
        <h3>è®¾ç½®ä»£ç†</h3>
        <p>
          å¯¹äºä¸èƒ½ç›´æ¥è®¿é—®çš„ç«™ç‚¹, å¯ä»¥é€šè¿‡è®¾ç½®ä»£ç†æœåŠ¡æ¥è®¿é—®, åœ¨ã€Œè®¾ç½®ã€â†’ã€Œä»£ç†è®¾ç½®ã€å¯ä»¥è®¾ç½®ä»£ç†æœåŠ¡
          <br>
          <b>ä»£ç†æœåŠ¡ç›®å‰ä»…æ”¯æŒ HTTP ä»£ç†</b>
        </p>
        <p>
          <span style="margin-right: 5px">æ›´å¤šå…³äºä½¿ç”¨æ–‡æ¡£è§</span>
          <a-button
              icon="github"
              size="small"
              type="primary"
              @click="openUrl('https://github.com/LanyuanXiaoyao-Studio/SearchX/wiki/%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E')"
          >
            Github Wiki
          </a-button>
        </p>
        <h2>è½¯ä»¶è¯´æ˜</h2>
        <About/>
        <h2>æ”¯æŒ</h2>
        <Donate/>
        <h2>æ›´æ–°å†…å®¹</h2>
        <p style="padding-top: 5px">
          <a-timeline
              :pending="'æœªå®Œå¾…ç»­'"
              :reverse="true"
          >
            <a-timeline-item
                v-for="(update, index) in updateInfo"
                :key="index"
            >
              <span
                  v-for="(item, index) in update"
                  :key="index"
                  class="timeline-update-item"
                  v-html="item"
              />
            </a-timeline-item>
          </a-timeline>
        </p>
      </div>
    </a-space>
  </div>
</template>

<script>
import LinuxIcon from '@/icons/LinuxIcon'
import WindowsIcon from '@/icons/WindowsIcon'
import MacOSIcon from '@/icons/MacOSIcon'
import DockerIcon from '@/icons/DockerIcon'
import UToolsIcon from '@/icons/UToolsIcon'
import About from '@/components/settings/About'
import Donate from '@/components/settings/Donate'
import Utils from '@/utils/utils'
import {mapGetters} from 'vuex'

export default {
  name: 'Home',
  components: {
    LinuxIcon,
    WindowsIcon,
    MacOSIcon,
    DockerIcon,
    UToolsIcon,
    About,
    Donate,
  },
  computed: mapGetters(['updateInfo']),
  async mounted() {
    await Utils.loadAbout()
  },
  methods: {
    openUrl(url) {
      window.openInExternal(url)
    },
    routeTo(url) {
      this.$router.push(url)
    }
  }
}
</script>

<style
    lang="stylus"
    scoped
>
.center
  background-color white
  width 100%
  height 100%

  .ant-space-item
    width 100%

  .content
    padding 2%

    code
      background-color #393939
      color white
      border-radius 3px
      padding 1px 3px 1px 3px
      font-size 0.8rem

    .shields img + img
      margin-left 5px

    .timeline-update-item
      display block
      font-size 0.9rem
      margin 6px 0 0 0
</style>
